# è½»ç‡ƒå¥åº·ç®¡ç†ç³»ç»Ÿ - é¡¹ç›®ç»“æ„

## ğŸ“ ç›®å½•ç»“æ„

```
lightburning/
â”œâ”€â”€ cloudfunctions/              # äº‘å‡½æ•°ï¼ˆåç«¯ï¼‰
â”‚   â”œâ”€â”€ healthService/          â­ æ ¸å¿ƒåŠŸèƒ½ï¼šç”¨æˆ·ã€è®¡åˆ’ã€è¯„ä»·ã€è¿åŠ¨
â”‚   â”‚   â”œâ”€â”€ index.js            (300è¡Œ)
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ config.json
â”‚   â”‚
â”‚   â”œâ”€â”€ dietService/            â­ é¥®é£Ÿç®¡ç†ï¼šé£Ÿç‰©è¯†åˆ«ã€è®°å½•
â”‚   â”‚   â”œâ”€â”€ index.js            (1650è¡Œ)
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ config.json
â”‚   â”‚
â”‚   â”œâ”€â”€ qwenAI/                 â­ AIåˆ†æä¸æ¨è
â”‚   â”‚   â”œâ”€â”€ index.js
â”‚   â”‚   â”œâ”€â”€ package.json
â”‚   â”‚   â””â”€â”€ config.json
â”‚   â”‚
â”‚   â””â”€â”€ foodRecognitionQwen/     å›¾ç‰‡è¯†åˆ«
â”‚       â”œâ”€â”€ index.js
â”‚       â”œâ”€â”€ package.json
â”‚       â””â”€â”€ config.json
â”‚
â”œâ”€â”€ miniprogram/                 # å°ç¨‹åºå‰ç«¯
â”‚   â”œâ”€â”€ pages/                   é¡µé¢
â”‚   â”‚   â”œâ”€â”€ home/                ä¸»é¡µ
â”‚   â”‚   â”œâ”€â”€ recipe-recommend/    é£Ÿè°±æ¨è
â”‚   â”‚   â”œâ”€â”€ recipe-detail/       é£Ÿè°±è¯¦æƒ…
â”‚   â”‚   â”œâ”€â”€ ai-suggestion/       AIå»ºè®®
â”‚   â”‚   â”œâ”€â”€ example/             ç¤ºä¾‹é¡µ
â”‚   â”‚   â””â”€â”€ index/               å…¥å£é¡µ
â”‚   â”‚
â”‚   â”œâ”€â”€ components/              ç»„ä»¶
â”‚   â”‚   â””â”€â”€ cloudTipModal/       äº‘å¼€å‘æç¤º
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/                   å·¥å…·ç±»
â”‚   â”‚   â”œâ”€â”€ api.js               APIå°è£…
â”‚   â”‚   â”œâ”€â”€ recipeEngine.js      é£Ÿè°±æ¨èå¼•æ“
â”‚   â”‚   â”œâ”€â”€ recipeData.js        é£Ÿè°±æ•°æ®
â”‚   â”‚   â””â”€â”€ qwenService.js       AIæœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ images/                  å›¾ç‰‡èµ„æº
â”‚   â”œâ”€â”€ app.js                   å°ç¨‹åºå…¥å£
â”‚   â”œâ”€â”€ app.json                 å…¨å±€é…ç½®
â”‚   â”œâ”€â”€ app.wxss                 å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ envList.js               ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ sitemap.json             SEOé…ç½®
â”‚
â”œâ”€â”€ exercise_db.json             # è¿åŠ¨æ•°æ®åº“
â”œâ”€â”€ package.json                 # é¡¹ç›®é…ç½®
â”œâ”€â”€ project.config.json          # å°ç¨‹åºé…ç½®
â”œâ”€â”€ project.private.config.json  # ç§æœ‰é…ç½®
â””â”€â”€ README.md                    # é¡¹ç›®è¯´æ˜
```

## ğŸ¯ æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

### äº‘å‡½æ•°

| æ–‡ä»¶ | åŠŸèƒ½ | è¡Œæ•° |
|------|------|------|
| `healthService/index.js` | ç”¨æˆ·ç®¡ç†ã€è®¡åˆ’ç®¡ç†ã€æ¯æ—¥è¯„ä»·ã€è¿åŠ¨æ¨è | ~300è¡Œ |
| `dietService/index.js` | é£Ÿç‰©æœç´¢ã€è¯†åˆ«ã€é¥®é£Ÿè®°å½•ã€è‡ªå®šä¹‰èœå“ | ~1650è¡Œ |
| `qwenAI/index.js` | AIåˆ†æã€æ™ºèƒ½æ¨è | ~250è¡Œ |
| `foodRecognitionQwen/index.js` | å›¾ç‰‡è¯†åˆ« | ~100è¡Œ |

### å°ç¨‹åºé¡µé¢

| é¡µé¢ | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|
| `home/` | ä¸»é¡µï¼Œæµ‹è¯•è®¡åˆ’ç”Ÿæˆ | âœ… å®Œæˆ |
| `recipe-recommend/` | é£Ÿè°±æ¨è | âœ… å®Œæˆ |
| `recipe-detail/` | é£Ÿè°±è¯¦æƒ… | âœ… å®Œæˆ |
| `ai-suggestion/` | AIè¥å…»å»ºè®® | âœ… å®Œæˆ |
| `example/` | äº‘å¼€å‘ç¤ºä¾‹ | âœ… å®Œæˆ |

### å·¥å…·ç±»

| æ–‡ä»¶ | åŠŸèƒ½ | è¡Œæ•° |
|------|------|------|
| `utils/api.js` | äº‘å‡½æ•°APIå°è£… | ~35è¡Œ |
| `utils/recipeEngine.js` | é£Ÿè°±æ¨èç®—æ³• | ~438è¡Œ |
| `utils/recipeData.js` | é£Ÿè°±æ•°æ®å®šä¹‰ | ~250è¡Œ |
| `utils/qwenService.js` | AIæœåŠ¡å°è£… | ~150è¡Œ |

## ğŸ“Š æ–‡ä»¶ç»Ÿè®¡

- **äº‘å‡½æ•°ä»£ç **ï¼š~2300è¡Œ
- **å‰ç«¯é¡µé¢**ï¼š~1800è¡Œ
- **å·¥å…·ç±»**ï¼š~850è¡Œ
- **æ€»ä»£ç é‡**ï¼šçº¦5000è¡Œ

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–
```bash
cd cloudfunctions/healthService && npm install
cd ../dietService && npm install
cd ../qwenAI && npm install
cd ../foodRecognitionQwen && npm install
```

### 2. éƒ¨ç½²äº‘å‡½æ•°
åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­ï¼š
- å³é”®äº‘å‡½æ•°ç›®å½• â†’ ä¸Šä¼ å¹¶éƒ¨ç½²ï¼šäº‘ç«¯å®‰è£…ä¾èµ–

### 3. åˆ›å»ºæ•°æ®åº“
åœ¨äº‘å¼€å‘æ§åˆ¶å°åˆ›å»ºé›†åˆï¼š
- UserProfilesï¼ˆç”¨æˆ·ä¿¡æ¯ï¼‰
- Plansï¼ˆå‡é‡è®¡åˆ’ï¼‰
- DietLogï¼ˆé¥®é£Ÿè®°å½•ï¼‰
- ExerciseLogï¼ˆè¿åŠ¨è®°å½•ï¼‰
- DailyEvaluationsï¼ˆæ¯æ—¥è¯„ä»·ï¼‰
- FoodDBï¼ˆé£Ÿç‰©æ•°æ®åº“ï¼‰
- UserDishesï¼ˆç”¨æˆ·è‡ªå®šä¹‰èœå“ï¼‰

### 4. åˆå§‹åŒ–æ•°æ®
```javascript
wx.cloud.callFunction({
  name: 'dietService',
  data: { action: 'initBuiltinFoods' }
})
```

## ğŸ“ ä¸»è¦åŠŸèƒ½

### healthService API
- `updateProfile` - æ›´æ–°ç”¨æˆ·ä¿¡æ¯
- `getProfile` - è·å–ç”¨æˆ·ä¿¡æ¯
- `generatePlan` - ç”Ÿæˆå‡é‡è®¡åˆ’
- `adjustPlan` - åŠ¨æ€è°ƒæ•´è®¡åˆ’
- `evaluate` - æ¯æ—¥è¯„ä»·
- `recommendExercise` - æ¨èè¿åŠ¨
- `logExercise` - è®°å½•è¿åŠ¨

### dietService API
- `searchFood` - æœç´¢é£Ÿç‰©
- `recognizeAndSearch` - æ‹ç…§è¯†åˆ«
- `addDietLog` - æ·»åŠ é¥®é£Ÿè®°å½•
- `getDietLogs` - è·å–é¥®é£Ÿè®°å½•
- `addCustomDish` - æ·»åŠ è‡ªå®šä¹‰èœå“

### qwenAI API
- `analyzeAndRecommend` - AIåˆ†æä¸æ¨è
- `generateRecipeReason` - ç”Ÿæˆæ¨èç†ç”±

## ğŸ“ é€‚åˆè¯¾ç¨‹ä½¿ç”¨

âœ… ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç†è§£  
âœ… ä»£ç é‡é€‚ä¸­ï¼Œä¾¿äºå­¦ä¹   
âœ… åŠŸèƒ½å®Œæ•´ï¼Œå¯ç›´æ¥æ¼”ç¤º  
âœ… æŠ€æœ¯æ ˆç°ä»£ï¼Œç¬¦åˆä¸»æµ  

---

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ `README.md`

