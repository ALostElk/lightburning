# 轻燃健康管理系统 - 前端功能设计
---

##  整体架构设计

### 导航结构（TabBar）
```
┌─────────┬─────────┬─────────┬─────────┬─────────┐
│  首页   │  饮食   │  运动   │  数据   │   我的   │
│  🏠     │  🍽️    │  💪     │  📊     │   👤    │
└─────────┴─────────┴─────────┴─────────┴─────────┘
```

---

##  核心功能模块（9大模块）

### 模块一：用户管理模块

#### 1.1 个人信息页面（新增）
**页面路径**：`pages/profile/index`

**功能点**：
- [ ] 显示用户基本信息（性别、年龄、身高、体重）
- [ ] 显示健康指标（BMI、BMR、TDEE）
- [ ] 显示目标设置（目标、目标体重、活动等级）
- [ ] 编辑个人信息表单
- [ ] 保存到云数据库（调用 `healthService.updateProfile`）
- [ ] 信息验证（年龄18-80、身高100-250cm、体重30-200kg）

**后端 API**：
```javascript
// 更新信息
healthService.updateProfile(payload)
// 获取信息
healthService.getProfile()
```

**UI 设计要点**：
- 卡片式布局，每项可编辑
- BMI 颜色标识（正常/偏瘦/超重/肥胖）
- 活动等级滑块选择器
- 保存按钮固定底部


---

### 模块二：计划管理模块 

#### 2.1 计划生成页面（改进现有 home 页面）
**页面路径**：`pages/plan/generate`

**功能点**：
- [ ] 输入目标减重量（-20kg ~ +10kg）
- [ ] 输入计划周期（30-180天）
- [ ] 显示计划详情（每日热量目标、预计完成时间）
- [ ] 计划可行性评估（过快/适中/缓慢）
- [ ] 生成计划（调用 `healthService.generatePlan`）
- [ ] 保存计划到本地和云端

**后端 API**：
```javascript
healthService.generatePlan({
  targetWeightChange: -5,
  totalDays: 90
})
```

#### 2.2 计划详情页面（新增）
**页面路径**：`pages/plan/detail`

**功能点**：
- [ ] 显示当前计划概览
- [ ] 显示每日目标（摄入、消耗、净热量差）
- [ ] 显示进度条（已完成天数/总天数）
- [ ] 显示体重变化曲线图
- [ ] 调整计划按钮（调用 `healthService.adjustPlan`）
- [ ] 终止/重新生成计划

**后端 API**：
```javascript
healthService.adjustPlan({
  date: '2025-12-02',
  actualDeficit: -300
})
```

---

### 模块三：饮食管理模块 

#### 3.1 饮食记录主页
**页面路径**：`pages/diet/index`

**功能点**：
- [ ] 显示今日饮食概览（总热量、三大营养素）
- [ ] 环形进度图（摄入/目标）
- [ ] 按餐次分组显示记录（早/午/晚/加餐）
- [ ] 每条记录可编辑/删除
- [ ] 底部固定添加按钮（三种方式：拍照/搜索/手动）
- [ ] 日期切换器（查看历史记录）

**后端 API**：
```javascript
dietService.getDietLogs({ date: '2025-12-02' })
dietService.deleteDietLog({ logId })
```

#### 3.2 拍照识别页面
**页面路径**：`pages/diet/camera`

**功能点**：
- [ ] 调用相机/相册
- [ ] 上传图片到云存储
- [ ] 显示识别中动画
- [ ] 展示识别结果（食物列表）
- [ ] 每个食物可调整份量
- [ ] 选择餐次（早/午/晚/加餐）
- [ ] 批量保存到记录

**后端 API**：
```javascript
dietService.recognizeAndSearch({
  fileID: 'cloud://xxx'
})
dietService.addDietLog(record)
```

**UI 设计要点**：
- 拍照预览大图
- AI识别加载动画
- 识别结果卡片列表
- 份量调节器（滑块或输入框）

#### 3.3 食物搜索页面
**页面路径**：`pages/diet/search`

**功能点**：
- [ ] 搜索输入框（带历史记录）
- [ ] 实时搜索建议（调用 `quickSearch`）
- [ ] 显示搜索结果（来源标识：本地/AI/用户菜品）
- [ ] 点击食物 → 份量选择页
- [ ] 常用食物快捷入口
- [ ] 用户自定义菜品入口

**后端 API**：
```javascript
dietService.quickSearch({ keyword: '鸡胸肉', limit: 10 })
dietService.searchFood({ keyword: '鸡胸肉', mode: 'full' })
```

#### 3.4 手动输入页面
**页面路径**：`pages/diet/manual`

**功能点**：
- [ ] 食物名称输入
- [ ] 份量输入（克/毫升/个/份）
- [ ] 热量自动估算（或手动输入）
- [ ] 三大营养素输入（可选）
- [ ] 餐次选择
- [ ] 保存到记录

#### 3.5 自定义菜品管理
**页面路径**：`pages/diet/custom-dishes`

**功能点**：
- [ ] 显示我的菜品列表
- [ ] 添加新菜品（名称、食材、营养信息）
- [ ] 编辑/删除菜品
- [ ] 使用次数统计
- [ ] 快速添加到记录

**后端 API**：
```javascript
dietService.getUserDishes()
dietService.addCustomDish(dish)
dietService.updateCustomDish(dishId, updates)
dietService.deleteCustomDish(dishId)
```


---

### 模块四：运动管理模块 

#### 4.1 运动记录页面
**页面路径**：`pages/exercise/index`

**功能点**：
- [ ] 显示今日运动概览（总消耗、总时长）
- [ ] 运动记录列表（按时间倒序）
- [ ] 每条记录显示（名称、时长、消耗热量）
- [ ] 编辑/删除记录
- [ ] 添加运动按钮

**后端 API**：
```javascript
healthService.logExercise({
  name: '慢跑',
  duration: 30,
  calories: 300
})
```

#### 4.2 运动推荐页面
**页面路径**：`pages/exercise/recommend`

**功能点**：
- [ ] 根据用户目标推荐运动
- [ ] 显示推荐运动列表（名称、难度、消耗）
- [ ] 运动详情（动作说明、视频链接）
- [ ] 一键添加到今日运动
- [ ] 自定义运动入口

**后端 API**：
```javascript
healthService.recommendExercise()
```

#### 4.3 运动库页面
**页面路径**：`pages/exercise/library`

**功能点**：
- [ ] 按分类浏览运动（有氧/力量/柔韧）
- [ ] 搜索运动
- [ ] 显示运动详情
- [ ] MET值计算器（输入时长自动算消耗）
- [ ] 收藏常用运动

**数据来源**：`exercise_db.json`

**优先级**：⭐⭐⭐⭐ 重要功能

---

### 模块五：每日评价模块 

#### 5.1 今日报告页面
**页面路径**：`pages/report/daily`

**功能点**：
- [ ] 显示今日完成度（环形进度图）
- [ ] 热量差分析（目标 vs 实际）
- [ ] 红绿灯状态（绿色/黄色/红色）
- [ ] 营养评分（0-100分）
- [ ] 营养素占比饼图
- [ ] AI 生成的建议列表
- [ ] 分享报告按钮

**后端 API**：
```javascript
healthService.evaluate({ date: '2025-12-02' })
```

**UI 设计要点**：
- 顶部大卡片显示核心指标
- 红绿灯用颜色和图标强调
- 营养评分用进度条+分数
- 建议用卡片列表展示



---

### 模块六：数据统计模块 

#### 6.1 统计概览页面
**页面路径**：`pages/stats/index`

**功能点**：
- [ ] 时间范围选择器（7天/30天/90天）
- [ ] 体重变化折线图
- [ ] 热量趋势图（摄入/消耗/净差）
- [ ] 营养素分布（蛋白质/碳水/脂肪）
- [ ] 运动统计（总次数、总时长、总消耗）
- [ ] 达标率（计算完成目标的天数百分比）

**后端 API**：
```javascript
dietService.getDietLogsByRange(startDate, endDate)
// 需要自己聚合运动数据
```

#### 6.2 周报告页面（新增）
**页面路径**：`pages/stats/weekly`

**功能点**：
- [ ] 本周总结（体重变化、热量、运动）
- [ ] 每日完成度雷达图
- [ ] 优秀/需改进分析
- [ ] 下周建议
- [ ] 分享周报

**优先级**：⭐⭐⭐ 增强功能

---

### 模块七：食谱推荐模块

#### 7.1 食谱推荐页面（优化现有）
**页面路径**：`pages/recipe-recommend/index`

**优化点**：
- [x] 基于目标推荐（已实现）
- [x] 基于偏好推荐（已实现）
- [x] AI智能推荐（已实现）
- [ ] 加载状态优化
- [ ] 推荐理由展示
- [ ] 一键添加到饮食记录


**优先级**：⭐⭐⭐ 增强功能

---

### 模块八：AI建议模块（已有，需优化）

#### 8.1 AI建议页面（优化现有）
**页面路径**：`pages/ai-suggestion/index`

**优化点**：
- [x] 营养缺口分析（已实现）
- [x] AI建议生成（已实现）
- [x] 推荐食谱（已实现）
- [ ] 周分析（7天趋势）
- [ ] 个性化建议（根据用户目标）
- [ ] 建议历史记录


---

### 模块九：个人中心模块 

#### 9.1 我的页面（新增）
**页面路径**：`pages/mine/index`

**功能点**：
- [ ] 用户头像+昵称
- [ ] 个人信息卡片（身高、体重、目标）
- [ ] 功能入口列表：
  - 我的计划
  - 我的菜品
  - 收藏的食谱
  - 数据统计
  - 设置
  - 关于我们
- [ ] 徽章/成就展示（可选）

#### 9.2 设置页面（新增）
**页面路径**：`pages/mine/settings`

**功能点**：
- [ ] 通知设置
- [ ] 单位设置（公制/英制）
- [ ] 隐私设置
- [ ] 清除缓存
- [ ] 关于我们
- [ ] 退出登录



---

##  开发阶段规划

### 第一阶段：核心流程（1周）

#### 用户与计划模块
**任务**：
1. 个人信息页面（profile）
2. 计划生成页面（plan/generate）
3. 计划详情页面（plan/detail）

**工作量**：约 3 个页面，4-5 天

---

#### 模块二：饮食管理
**任务**：
1. 饮食记录主页（diet/index）
2. 拍照识别页面（diet/camera）
3. 食物搜索页面（diet/search）
4. 手动输入页面（diet/manual）

**工作量**：约 4 个页面，5-6 天

---

#### 模块三：运动与评价
**任务**：
1. 运动记录页面（exercise/index）
2. 运动推荐页面（exercise/recommend）
3. 今日报告页面（report/daily）

**工作量**：约 3 个页面，4-5 天

---

### 第二阶段：增强功能（3-5天）

#### 模块四：数据统计
**任务**：
1. 统计概览页面（stats/index）
2. 图表组件封装

**工作量**：约 1-2 个页面，2-3 天

---

#### 模块五：个人中心
**任务**：
1. 我的页面（mine/index）
2. 自定义菜品管理（diet/custom-dishes）

**工作量**：约 2 个页面，2-3 天

---

#### 模块六：优化与联调
**任务**：
1. 优化现有食谱推荐页面
2. 优化现有AI建议页面
3. 首页（home）重构
4. 全局样式统一

**工作量**：约 2-3 天

---

### 第三阶段：测试与演示（2-3天）

#### 所有任务：
1. 功能测试
2. UI/UX 优化
3. 异常处理
4. 文档编写
5. 准备演示

